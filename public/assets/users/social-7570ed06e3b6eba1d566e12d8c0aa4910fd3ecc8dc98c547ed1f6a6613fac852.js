(function(){var e;$(document).ready(function(){return $("#peopleModal").on("show.bs.modal",function(n){var t,o,l,a;return t=$(n.relatedTarget),a=t.data("title"),o=$("input[name=followed_id]").val(),l=$(this),l.find(".modal-title").text(a),"Followers"===a?Social.getConnectedPeople(User.getId,API.getFollowerUrl().format(o),e):Social.getConnectedPeople(User.getId,API.getFollowingUrl().format(o),e)})}),e=function(e){return $(".connected-people").empty(),$.each(e,function(e,n){var t,o;return o="",o=n.following?"<button class='pull-right btn btn-success unfollow'>Unfollow</button>":"<button class='pull-right btn btn-warning follow'>Follow</button>",t="<div class='clearfix'> <img src="+n.avatar+" /> <a href='/"+n.username+"'>"+n.username+"</a> </div>",$(t).find("div").append(o),$(".connected-people").append($("<div class='clearfix'>").append($("<img src="+n.avatar+" />")).append($("<a href='/"+n.username+"'>").append(""+n.username)).append(n.id!==User.getId()?$(o):void 0))})},this.Social={},Social.getConnectedPeople=function(e,n,t){return $.ajax({url:n,success:t})}}).call(this);